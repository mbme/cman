#!/usr/bin/env ruby

require 'cman'
require 'cman/logger'

include Cman::Logger
command = ARGV[0]
unless Cman.respond_to?(command)
  error "wrong command '#{command}'"

  methods = Cman.methods(false).map { |s| s.to_s }.join ', '
  error "must be one of #{methods}"

  return 1
end

# TODO: handle command
puts 'done'
Cman.status
